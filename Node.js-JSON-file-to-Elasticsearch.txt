1. 

====================Node.js=======================================================
// Declare required packages
var _ = require('underscore')
var es = require('elasticsearch')
// Set ElasticSearch location and port
var client = new es.Client({
    host : 'localhost:9200'
});

var fs = require('fs');
var pubs = readJson('/home/osboxes/Downloads/log.json'); // name of my first file to parse

// Function to convert string to JSON format
 function readJson (filepath) {
    var obj = JSON.parse(fs.readFileSync(filepath, 'utf8'));
    return(obj)
 };

var string_hits = JSON.parse(JSON.stringify(pubs["hits"]));
var list = string_hits.hits;

// Find number of document of "finaljson"
var xloop = _.size(list);

// Declare variable to contain body of JSON data for loading to ElasticSearch
var br = [];

// Function to create body for loading to ElasticSearch
function create_bulk (bulk_request) {
    var obj;
 	var id;
	var source_element;
	
	for (i = 0; i < xloop; i++) {
		obj = list[i];
		//removes elements from the json record, retain only _source
		source_element = obj["_source"];
		id = obj["_id"]
		// Insert header of record
		bulk_request.push({index: {_index: 'media1', _type: 'logs', _id: id}});
		bulk_request.push(source_element);    
    }
    return bulk_request;
};
  
// Call function to get body for loading
create_bulk(br); 

// Standard function of ElasticSearch to use bulk command
client.bulk(
{
    body : br
}, function (err, resp) {
  console.log(err);
});
